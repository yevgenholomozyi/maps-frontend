(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[7],{42:function(e,t,a){"use strict";var n=a(0),c=a.n(n);a(49);t.a=function(e){return c.a.createElement("div",{className:"card ".concat(e.className),style:e.style},e.children)}},49:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(47),c=a.n(n),r=a(48),l=a(10),o=a(0),s=a.n(o),i=(a(65),a(42)),u=a(44),m=a(58),p=(a(66),function(e){var t=e.center,a=e.zoom,n=e.style,c=e.className,r=Object(o.useRef)();return Object(o.useEffect)((function(){var e=new window.google.maps.Map(r.current,{zoom:a,center:t});new window.google.maps.Marker({position:t,map:e})}),[t,a]),s.a.createElement("div",{ref:r,className:"map ".concat(c),style:n})}),E=a(11),d=a(50),f=a(15),h=a(51),v=(a(67),function(e){var t=e.image,a=e.title,n=e.address,v=e.description,b=e.coordinates,C=e.onDelete,O=e.creatorId,g=e.id,k=Object(h.a)(),w=k.isLoading,N=k.error,j=k.sendRequest,_=k.clearError,y=Object(o.useContext)(E.a),D=y.userId,x=y.token,L=Object(o.useState)(!1),A=Object(l.a)(L,2),I=A[0],P=A[1],z=Object(o.useState)(!1),M=Object(l.a)(z,2),R=M[0],S=M[1],T=function(){return P(!1)},F=function(){S(!1)},q=function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!1),e.prev=1,e.next=4,j("".concat("https://locationslist.herokuapp.com/api","/").concat(g),"DELETE",null,{Authorization:"Bearer ".concat(x)});case 4:C(g),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),J=O===D;return s.a.createElement(o.Fragment,null,s.a.createElement(d.a,{error:N,onClear:_}),s.a.createElement(m.a,{show:I,onCancel:T,header:n,contentClass:"place-item__modal-content",footerClass:"place-item__modal-actions",footer:s.a.createElement(u.a,{onClick:T}," Close")},s.a.createElement("div",{className:"map-container"},s.a.createElement(p,{center:b,zoom:16}))),s.a.createElement(m.a,{header:"Are you sure?",footerClass:"place-item__modal-actions",show:R,onCancel:F,footer:s.a.createElement(o.Fragment,null,s.a.createElement(u.a,{inverse:!0,onClick:F},"CANCEL"),s.a.createElement(u.a,{danger:!0,onClick:q},"DELETE"))},s.a.createElement("p",null,"Do you indeed want to proceed and delete this place? Please note that it can't be undone thereafter.")),s.a.createElement("li",{className:"place-item"},s.a.createElement(i.a,{className:"place-item__content"},w&&s.a.createElement(f.a,{asOverlay:!0}),s.a.createElement("div",{className:"place-item__image"},s.a.createElement("img",{src:"".concat("https://locationslist.herokuapp.com","/").concat(t),alt:a})),s.a.createElement("div",{className:"place-item__info"},s.a.createElement("h2",null,a),s.a.createElement("h3",null,n),s.a.createElement("p",null,v)),s.a.createElement("div",{className:"place-item__actions"},s.a.createElement(u.a,{inverse:!0,onClick:function(){return P(!0)}},"VIEW ON MAP"),J&&s.a.createElement(u.a,{to:"/places/".concat(g)},"EDIT"),J&&s.a.createElement(u.a,{danger:!0,onClick:function(){S(!0)}},"DELETE")))))}),b=function(e){var t=e.places,a=e.onDeletePlace;return 0===t.length?s.a.createElement("div",{className:"place-list center"},s.a.createElement(i.a,null,s.a.createElement("h2",null,"No Places Yet. Maybe Create One"),s.a.createElement(u.a,{to:"places/new"}," SHARE PLACE "))):s.a.createElement("ul",{className:"place-list"},t.map((function(e){return s.a.createElement(v,{key:e.id,id:e.id,image:e.image,title:e.title,description:e.description,address:e.address,creatorId:e.creator,coordinates:e.location,onDelete:a})})))},C=a(1);t.default=function(){var e=Object(C.h)().userId,t=Object(o.useState)(),a=Object(l.a)(t,2),n=a[0],i=a[1],u=Object(h.a)(),m=u.isLoading,p=u.error,E=u.sendRequest,v=u.clearError;Object(o.useEffect)((function(){(function(){var t=Object(r.a)(c.a.mark((function t(){var a,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E("".concat("https://locationslist.herokuapp.com/api","/places/user/").concat(e));case 3:a=t.sent,n=a.places,i(n),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[E,e]);return s.a.createElement(o.Fragment,null,s.a.createElement(d.a,{error:p,onClear:v}),m&&s.a.createElement("div",{className:"center"},s.a.createElement(f.a,null)),!m&&n&&s.a.createElement(b,{places:n,onDeletePlace:function(e){i((function(t){return t.filter((function(t){return t.id!==e}))}))}}))}}}]);
//# sourceMappingURL=7.802feb57.chunk.js.map